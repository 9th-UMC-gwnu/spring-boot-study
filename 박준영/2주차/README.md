# Spring Boot의 코어 개념

## 프레임워크란? 
- 해당 목적과 관련된 코드의 뼈대를 미리 만들어둔 것을 의미
  - 자주 사용하는 기능에 대한 골조를 만들어놓고, 그 안에 구현

## API
- 2개 이상의 소프트웨어 컴포넌트 사이에서 상호작용 할 수 있도록 정의된 인터페이스
- 소프트웨어 애플리케이션들이 서로 데이터를 주고받으며 통신할 수 있도록 만들어진 일련의 규칙이자 약속
  - 다른 개발자들이 사용할 수 있도록 함수나 메서드, 클래스를 정의하는 것

## 라이브러리
- 프로그램 개발에 필요한 함수, 클래스, 객체들을 모아둔 것

## 라이브러리 VS 프레임워크
- 라이브러리
  - 개발자가 필요할때 사용하는 함수, 클래스, 객체 등등 -> 제어권이 개발자한테
- 프레임워크
  - 개발자가 코드를 프레임워크내에 넣으면 실행은 **프레임워크**가 주도 -> 제어권이 프레임워크한테


---

## IoC(제어의 역전)
- 프로그램의 제어 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것
- 개발자가 작성한 객체나 메서드의 제어를 개발자가 아니라, 외부에 위임하는 설계 원칙을 *제어의 역전*
  - 프레임워크가 개발자가 작성한 코드를 호출하고, 흐름을 제어하는 것

## DI(의존성 주입)
- DI는 IoC를 실현시키는 방법 중 하나로
- 객체가 필요로 하는 것(종속성)을 직접 만드는 것이 아닌, 외부에서 주입 받는 방식

### 스프링에서의 의존관계 세가지 조건
1. 클래스 모델이나 코드에는 런타임 시점의 의존관계가 드러나지 않는다. 그러기 위해서는 인터페이스만 의존하고 있어야 한다.
2. 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정한다
3. 의존관계는 사용할 오브젝트에 대한 래퍼런스를 외부에서 재공(주입) 해줌으로써 만들어진다

## 서블릿
- 자바에서 웹 어플리케이션을 만들때 HTTP 요청을 처리하고 응답을 보내는 역할을 수행
  - 싱글톤을 이용
    - 하나의 객체를 여러 요청이 공유
    - 동시성 문제 발생 가능

## 서블릿 컨테이너
- 서블릿 객체를 생성, 수정, 초기화, 호출, 종료하는 생명주기를 관리하는 컨테이너
- 요청과 응답을 처리할 수 있게끔 소켓과 웹 서버로 통신

---

## 스프링 빈
- 스프링 컨테이너가 관리하는 자바의 객체
- 객체를 인스턴스화한 후, 객체 간의 의존 관계를 관리

## 스프링 컨테이너 (ApplicationContext, BeanFactory)
- 애플리케이션을 실행할 때, 빈을 관리하고, 조회하는 기능은 물론이고, 수많은 부가기능을 수행하는 스프링에서의 Ioc, DI 컨테이너
- 객체를 개발자가 아닌 스프링 워크가 생성, 관리를 담당

### IoC 컨테이너의 작동 방식
1. **객체를 class로 정의**
2. **객체들 간의 연관성 지정**: Spring 설정 파일(Config) 또는 어노테이션(`@Component` , `@Configuration`, `@Autowired`, `@Bean` )을 통해 객체들이 어떻게 연결될지(**의존성 주입**) 지정해줍니다.
3. IoC 컨테이너가 이 정보를 바탕으로 객체들을 **생성하고 필요한 곳에 주입**.
- 위의 일련의 과정을 거쳐서 POJO 기반의 개발(POJO는 복잡한 라이브러리나 프레임워크에 의존하지 않고, 순수한 자바 객체)

### 스프링의 의존성 주입 방식
- 생성자 주입
  - 생성자 기반 DI는 컨테이너가 종속성을 나타내는 여러 인수로 생성자를 호출하여 객체를 생성(객체의 불변성 보장)
  - @RequiredArgsConstructor 로 생성자 대체 가능
- Setter 주입
  - Setter 주입 방식은 런타임에 의존성을 주입하기 때문에, 의존성이 없더라도 객체가 생성
  - Setter 메서드에 @Autowired 명시
- 필드 주입
  - 런타임에 의존성을 주입하기 때문에, 의존성이 없더라도 객체가 생성
  - 필드에 @Autowired 명시

### 빈 등록 방식
- @Component (묵시적 빈 정의)
- 클래스에 @Component 어노테이션을 추가하여, Spring이 자동으로 해당 클래스를 스캔하고 Bean으로 등록
- Spring은 프로젝트 Application.java를 먼저 실행하면서 `@SpringBootApplication` 을 통해 `@Component` 를 찾아 Bean으로 객체를 생성
- @Controller, @Service, @Repository에는 내부적으로 @Component가 들어있음

- @Configuration
  - @Component 어노테이션처럼 클래스 위에 붙히고, @Bean 어노테이션을 통해 생성, 소멸을 설정 가능

## Spring 디스패처
- 모든 HTTP요청, 응답을 처리
- 해당 요청에 알맞는 컨트롤러를 찾아 매핑


---


