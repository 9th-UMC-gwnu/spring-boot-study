# Chapter 0. Database 설계

### SQL이란? 
- SQL은 Structured Query Language의 약자로 관계형 데이터베이스를 사용하는 시스템에서 데이터를 관리하는데 사용된다.

### NoSQL이란?
- Not Only SQL의 약자로 SQL을 사용하지 않는 DBMS를 의미한다.
- key-value, document, graph 등 다양한 데이터 구조를 지원한다.

---

### ERD
- ERD는 프로젝트 시작과 동시에 설계하는 것이 좋다.
- 즉, 기획과 디자인이 어느 정도 나와 개발자가 작업을 시작할 수 있는 시점을 말하는 것이다.

---

### Hard Delete 
- 기능 구현 시, 회원 탈퇴와 게시글 삭제 등의 연산을 Delete로 비로 삭제할 수 있다.
- 단, 인스타그램의 경우 회원 탈퇴를 철회하고 다시 돌아오는 회원이 존재할 수 있다.

### Soft Delete
- batch란 정해진 시간에 자동으로 실행되는 프로세스인데,
- 단적인 예로 매일 새벽 2시에 자동으로 member 테이블을 검사하여 inactive된 이후,
- 7일이 지난 경우에 삭제할 수 있다. 이때는 Soft Delete를 사용한다.
- 회원 뿐만 아니라 요구 사항에 휴지통 기능이 있는 경우에도 Soft Delete를 사용한다.

---

### PM의 요구사항 1
```text
공지 사항에 대한 알림은 알림 터치 시 해당 공지 사항으로 이동이 되고
마케팅 알림의 경우 터치 시 해당 마케팅으로 이동이 된다.
어떤 것에 대한 알림인지 어떻게 알아내야할까?
```

1. 슈퍼 타입과 서브 타입의 구성
2. 하나의 테이블에 두고 dtype으로 구분
3. 그냥 테이블 다 나누기

- 위의 3가지 설계 방법 중 하나를 고를 수 있다.

### PM의 요구사항 2
` 사용자 간 차단 기능이 생기게 되어서 차단한 사용자가 누른 좋아요는 집계를하지 않는 상황`
- 순수 DML 연산으로, book_likes에서 해당 책 아이디를 가진 것이 몇 개인지 직접 세는 것이 좋다.

--- 

## 🎯핵심 키워드
- 기본키: 유일성과 최소성을 갖춘 키
- 외래키: 다른 테이블의 기본 키를 참조하는 컬럼
- ER 다이어그램: 데이터베이스의 구조를 시각적으로 표현한 다이어그램
- 복합 키: 두 개 이상의 컬럼을 묶어 기본 키로 사용하는 것
- 연관 관계: 테이블 간의 논리적 연결
- 정규화: 중복을 나누고 무결성을 최소화
- 반 정규화: 조인이 많을 때 사용
- DB에서의 상속 관계 표현: 부모-자식 관계를 테이블로 나누거나 하나에 합쳐서, 공통된 구조를 효율적으로 저장하는 방법
- 인덱스: 검색, 삽입, 삭제 속도를 향상시키기 위해 사용되는 데이터 구조

---

## 📢학습 후기
- Delete를 어떻게 써야하는지에 대한 시나리오와 상황에 대한 대처를 배웠습니다.
- 테이블에 있는 외래키가 어떤 영향을 줄 수 있는지를 긴 시간 동안 고민하면서 익힐 수 있었습니다.

## ✅실습 체크리스트
- [x] 로컬 DB 설치하기

- [x] 책 데이터베이스 설계

## ☑️실습 인증
- [x] 로컬 DB 설치하기

<img width="650" height="170" src="https://github.com/user-attachments/assets/45aa262d-530e-4191-9036-30c8c65b1403" /><br>

- [x] 책 데이터베이스 설계

<img width="650" height="300" src="https://github.com/user-attachments/assets/3dca4699-889a-4310-b567-828a11bd4ea6" /> <br>

## 🔥 미션
<img width="482" height="462" src="https://github.com/user-attachments/assets/e0e4fa41-f9df-419a-88fd-febc47ff47b6" /> <br>

## ⚡트러블 슈팅

`이슈` <br>
- 외부에서 받은 sql 파일을 DataGrip에서 실행했는데 오류가 발생했다. <br>

`문제` <br>
- erdcloud에서 받은 sql 파일에는 Default NONE이 있는데 MYSQL에서는 지원하지 않는 구문이다. <br>

`해결` <br>
- 해당 부분을 완전히 삭제한다. <br>

`참고레퍼런스` <br>
- https://www.phpschool.com/gnuboard4/bbs/board.php?bo_table=qna_db&wr_id=199273 <br>
